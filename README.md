# Cars Web Dev Test

# Cars API

## The Story

"As a consumer of a RESTFul API, I would like to be able to add, retrieve, and remove *cars*."

### The Acceptance Criteria

* Priority order is:
    1. add
    2. retrieve 
    3. remove
* A *car* has the following attributes:
    * id*
    * make
    * model
    * colour
    * year
* We do not require persistent storage at this stage (an in-memory store is fine).

*generated by the application on entry

### Stretch goals covered
* "As a Developer, I want my code to be covered by tests, so I know if a change has broken something"
* "As a Consumer of the API, I would like to be able to update my existing cars"
* "As a Consumer of the API, I would like any cars I add through the API to persist between application restarts (persistent storage)"

## Getting started

- Make sure you have a recent version of Node.js installed and install yarn and typescript globally `npm i -g yarn`, `yarn global add typescript`
- `$ cp .env.example .env` to create a .env file in your root directory with default values
- Run `$ docker-compose up --build -d` from the project root directory to create your mongodb container and instantiate the database
- `$ yarn` to download project dependencies
- `$ yarn start` to start the application

### Create
You can now post your cars to http://localhost:3000/cars/ in the raw json body
```
{ 
    "make": "string",
    "model": "string",
    "colour": "string",
    "year": "string"
}
```

### Read
Two get operations are available, getById and get. As expected, just call the /cars/ endpoint for a list of all cars currently stored in the api. Use /cars/your-car-id to get a specific car.

### Update
To update a car post to the /cars/your-car-id endpoint with an updated car object. This will update the car, it will retain its id and it's immutable ObjectId in Mongodb.

### Delete
To delete a car send a delete to the /cars/your-car-id endpoint and it will be removed from the api.

## Running the tests
To run the tests use the command `$ yarn test`. This will also provide an lcov report which can be found in the coverage/ directory.

